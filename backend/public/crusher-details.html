<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ³Ø§Ø±Ø©</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/modern-theme.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <style>
        .main-content {
            margin-right: 225px;
            padding: var(--space-8);
            transition: margin-right 0.25s;
        }
        
        @media (max-width: 900px) {
            .main-content { margin-right: 190px; }
        }
        
        @media (max-width: 700px) {
            .main-content { margin-right: 0; padding: var(--space-4); }
        }
        
        .page-header {
            margin-bottom: var(--space-8);
        }
        
        .page-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: var(--space-2);
        }
        
        .summary-card {
            background: linear-gradient(135deg, var(--primary-600) 0%, var(--primary-800) 100%);
            color: white;
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            margin-bottom: var(--space-8);
            box-shadow: var(--shadow-lg);
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-6);
            margin-top: var(--space-6);
        }
        
        .summary-item {
            text-align: center;
        }
        
        .summary-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: var(--space-2);
        }
        
        .summary-label {
            font-size: 0.875rem;
            opacity: 0.9;
        }
        
        .section {
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-200);
            margin-bottom: var(--space-6);
            overflow: hidden;
        }
        
        .section-header {
            padding: var(--space-6);
            border-bottom: 1px solid var(--gray-200);
            background: var(--gray-50);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
            margin: 0;
        }
        
        .section-content {
            padding: var(--space-6);
        }
        
        .materials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
        }
        
        .material-card {
            background: linear-gradient(135deg, var(--success-500) 0%, var(--success-600) 100%);
            color: white;
            padding: var(--space-6);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            transition: transform 0.2s ease;
        }
        
        .material-card:hover {
            transform: translateY(-2px);
        }
        
        .material-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: var(--space-4);
        }
        
        .material-stat {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--space-2);
            font-size: 0.875rem;
        }
        
        .table-container {
            overflow-x: auto;
        }
        
        .empty-state {
            text-align: center;
            padding: var(--space-12);
            color: var(--gray-500);
        }
        
        .empty-icon {
            font-size: 3rem;
            margin-bottom: var(--space-4);
        }
        
        .controls {
            flex-direction: row;
            display: flex;
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }
        
        .search-input {
            flex: 1;
            min-width: 200px;
        }
        
        .settlement-summary {
            background: var(--gray-50);
            border-radius: var(--radius);
            padding: var(--space-4);
            margin-bottom: var(--space-6);
            border: 1px solid var(--gray-200);
        }
        
        .settlement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-4);
            text-align: center;
        }
        
        .settlement-item {
            padding: var(--space-3);
            background: white;
            border-radius: var(--radius);
            border: 1px solid var(--gray-200);
        }
        
        .settlement-value {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: var(--space-1);
        }
        
        .settlement-label {
            font-size: 0.75rem;
            color: var(--gray-600);
        }
        
        /* Material Prices Styles */
        .prices-display-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .price-display-item {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius);
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .price-display-item:hover {
            background: var(--gray-100);
            transform: translateY(-2px);
        }
        
        .price-material-name {
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 0.5rem;
        }
        
        .price-material-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--success-600);
        }
        
        .price-material-value.not-set {
            color: var(--gray-400);
            font-style: italic;
        }
        
        .prices-edit-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .warning-box {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 1rem;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: var(--radius);
            margin-bottom: 1rem;
        }
        
        .warning-icon {
            font-size: 1.25rem;
            flex-shrink: 0;
        }
        
        .warning-text {
            color: #856404;
            line-height: 1.5;
        }
        
        .warning-text strong {
            color: #533f03;
        }
    </style>
</head>
<body>
    <div id="sidebar-placeholder"></div>
    
    <div class="main-content">
        <div class="page-header">
            <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                <h1 class="page-title" id="crusherName">ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ³Ø§Ø±Ø©</h1>
                <button class="btn btn-secondary" id="editCrusherBtn" style="margin-right: auto;">
                    âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                </button>
            </div>
        </div>
        
        <!-- Edit Crusher Modal -->
        <div id="editCrusherModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ³Ø§Ø±Ø©</h2>
                    <button class="modal-close" data-action="close-modal" data-target="editCrusherModal">&times;</button>
                </div>
                <form id="editCrusherForm">
                    <div class="form-group">
                        <label for="editCrusherName">Ø§Ø³Ù… Ø§Ù„ÙƒØ³Ø§Ø±Ø© *</label>
                        <input type="text" id="editCrusherName" name="name" autocomplete="organization" required>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" data-action="close-modal" data-target="editCrusherModal">Ø¥Ù„ØºØ§Ø¡</button>
                        <button type="submit" class="btn btn-primary">Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
                    </div>
                    <div id="editCrusherMessage"></div>
                </form>
            </div>
        </div>
        
        <div class="summary-card" id="summaryCard">
            <h2 class="text-xl font-semibold mb-4">Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø§Ù„ÙŠ</h2>
            <div class="summary-grid" id="summaryGrid">
                <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>
            </div>
        </div>
        
        <!-- Material Prices Section -->
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆØ§Ø¯</h3>
                <button class="btn btn-primary" id="editPricesBtn">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</button>
            </div>
            <div class="section-content">
                <div class="warning-box" style="margin-bottom: 1rem;">
                    <div class="warning-icon">âš ï¸</div>
                    <div class="warning-text">
                        <strong>ØªÙ†Ø¨ÙŠÙ‡:</strong> Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø³ØªÙØ³ØªØ®Ø¯Ù… Ù„Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙÙ‚Ø·. Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ØªØ­ØªÙØ¸ Ø¨Ø£Ø³Ø¹Ø§Ø±Ù‡Ø§ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©.
                    </div>
                </div>
                <div class="prices-display-grid" id="pricesDisplayGrid">
                    <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±...</div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">Ù…Ù„Ø®Øµ Ø§Ù„Ù…ÙˆØ§Ø¯</h3>
            </div>
            <div class="section-content">
                <div class="materials-grid" id="materialsContainer">
                    <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯...</div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª</h3>
            </div>
            <div class="section-content">
                <div class="controls">
                    <input type="text" class="form-input search-input" id="deliveriesSearch" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª..." autocomplete="off">
                    <input type="date" class="form-input" id="deliveriesDateFrom" placeholder="Ù…Ù† ØªØ§Ø±ÙŠØ®" autocomplete="off">
                    <input type="date" class="form-input" id="deliveriesDateTo" placeholder="Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®" autocomplete="off">
                    <select class="form-select" id="deliveriesSort">
                        <option value="date-desc">Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹</option>
                        <option value="date-asc">Ø§Ù„Ø£Ù‚Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹</option>
                        <option value="value-desc">Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø©</option>
                        <option value="value-asc">Ø§Ù„Ø£Ù‚Ù„ Ù‚ÙŠÙ…Ø©</option>
                    </select>
                </div>
                <div class="table-container" id="deliveriesContainer">
                    <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª...</div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">Ø§Ù„ØªØ³ÙˆÙŠØ§Øª ÙˆØ§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª</h3>
                <button class="btn btn-primary" id="addAdjustmentBtn">+ Ø¥Ø¶Ø§ÙØ© ØªØ³ÙˆÙŠØ©</button>
            </div>
            <div class="section-content">
                <div class="settlement-summary">
                    <div class="settlement-grid" id="settlementSummary">
                        <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ø®Øµ Ø§Ù„ØªØ³ÙˆÙŠØ§Øª...</div>
                    </div>
                </div>
                <div class="controls">
                    <input type="text" class="form-input search-input" id="adjustmentsSearch" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„ØªØ³ÙˆÙŠØ§Øª...">
                    <input type="date" class="form-input" id="adjustmentsDateFrom" placeholder="Ù…Ù† ØªØ§Ø±ÙŠØ®">
                    <input type="date" class="form-input" id="adjustmentsDateTo" placeholder="Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®">
                    <select class="form-select" id="adjustmentsSort">
                        <option value="date-desc">Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹</option>
                        <option value="date-asc">Ø§Ù„Ø£Ù‚Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹</option>
                        <option value="amount-desc">Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù…Ø¨Ù„Øº</option>
                        <option value="amount-asc">Ø§Ù„Ø£Ù‚Ù„ Ù…Ø¨Ù„Øº</option>
                    </select>
                </div>
                <div class="table-container" id="adjustmentsContainer">
                    <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ³ÙˆÙŠØ§Øª...</div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</h3>
                <button class="btn btn-primary" id="addPaymentBtn">+ Ø¥Ø¶Ø§ÙØ© Ø¯ÙØ¹Ø©</button>
            </div>
            <div class="section-content">
                <div class="controls">
                    <input type="text" class="form-input search-input" id="paymentsSearch" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª...">
                    <input type="date" class="form-input" id="paymentsDateFrom" placeholder="Ù…Ù† ØªØ§Ø±ÙŠØ®">
                    <input type="date" class="form-input" id="paymentsDateTo" placeholder="Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®">
                    <select class="form-select" id="paymentsSort">
                        <option value="date-desc">Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹</option>
                        <option value="date-asc">Ø§Ù„Ø£Ù‚Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹</option>
                        <option value="amount-desc">Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù…Ø¨Ù„Øº</option>
                        <option value="amount-asc">Ø§Ù„Ø£Ù‚Ù„ Ù…Ø¨Ù„Øº</option>
                    </select>
                </div>
                <div class="table-container" id="paymentsContainer">
                    <div class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª...</div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-header">
                <h3 class="section-title">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆÙƒØ´ÙˆÙ Ø§Ù„Ø­Ø³Ø§Ø¨</h3>
            </div>
            <div class="section-content">
                <div class="reports-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-4);">
                    <div class="report-card" style="background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%); color: white; padding: var(--space-6); border-radius: var(--radius-lg); box-shadow: var(--shadow);">
                        <h4 style="margin: 0 0 var(--space-4) 0; font-size: 1.125rem;">ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙˆØ±ÙŠØ¯Ø§Øª</h4>
                        <p style="margin: 0 0 var(--space-4) 0; opacity: 0.9; font-size: 0.875rem;">ØªÙ‚Ø±ÙŠØ± Ù…ÙØµÙ„ Ø¨Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø§Ù„Ù…ÙˆØ±Ø¯Ù‡ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¯Ø©</p>
                        
                        <div style="display: flex; gap: var(--space-2); margin-bottom: var(--space-4);">
                            <input type="date" id="deliveriesFromDate" class="form-input" style="flex: 1; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white;" placeholder="Ù…Ù† ØªØ§Ø±ÙŠØ®">
                            <input type="date" id="deliveriesToDate" class="form-input" style="flex: 1; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white;" placeholder="Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®">
                        </div>
                        <button id="generateDeliveriesReportBtn" class="btn" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); width: 100%;">
                            ğŸ“„ Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙˆØ±ÙŠØ¯Ø§Øª
                        </button>
                    </div>
                    
                    <div class="report-card" style="background: linear-gradient(135deg, var(--success-500) 0%, var(--success-600) 100%); color: white; padding: var(--space-6); border-radius: var(--radius-lg); box-shadow: var(--shadow);">
                        <h4 style="margin: 0 0 var(--space-4) 0; font-size: 1.125rem;">ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ø§Ù„ÙƒØ³Ø§Ø±Ø©</h4>
                        <p style="margin: 0 0 var(--space-4) 0; opacity: 0.9; font-size: 0.875rem;">ÙƒØ´Ù Ø­Ø³Ø§Ø¨ Ø´Ø§Ù…Ù„ Ø¨Ø§Ù„ØªÙˆØ±ÙŠØ¯Ø§Øª ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª ÙˆØ§Ù„Ø±ØµÙŠØ¯</p>
                        
                        <div style="margin-bottom: var(--space-4);">
                            <label style="display: flex; align-items: center; gap: var(--space-2); margin-bottom: var(--space-2); font-size: 0.875rem;">
                                <input type="checkbox" id="useCustomDateRange" onchange="toggleDateInputs()" style="margin: 0;">
                                Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙØªØ±Ø© Ø²Ù…Ù†ÙŠØ© Ù…Ø­Ø¯Ø¯Ø©
                            </label>
                            <div id="dateInputs" style="display: none; gap: var(--space-2);">
                                <input type="date" id="statementFromDate" class="form-input" style="flex: 1; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white;" placeholder="Ù…Ù† ØªØ§Ø±ÙŠØ®">
                                <input type="date" id="statementToDate" class="form-input" style="flex: 1; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white;" placeholder="Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®">
                            </div>
                        </div>
                        
                        <button id="generateAccountStatementBtn" class="btn" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); width: 100%;">
                            ğŸ“Š Ø¥Ù†Ø´Ø§Ø¡ ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Prices Modal -->
    <div class="modal" id="editPricesModal">
        <div class="modal-content">
            <div class="modal-header">ØªØ¹Ø¯ÙŠÙ„ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆØ§Ø¯</div>
            <div class="warning-box">
                <div class="warning-icon">âš ï¸</div>
                <div class="warning-text">
                    <strong>ØªÙ†Ø¨ÙŠÙ‡ Ù…Ù‡Ù…:</strong> ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø³ÙŠØ¤Ø«Ø± ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©. 
                    Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ³Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø³ØªØ­ØªÙØ¸ Ø¨Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© ÙˆÙ‚Øª Ø¥Ù†Ø´Ø§Ø¦Ù‡Ø§.
                </div>
            </div>
            <div id="editPricesMessage"></div>
            <form id="editPricesForm">
                <div class="prices-edit-grid">
                    <div class="form-group">
                        <label class="form-label" for="editSandPrice">Ø±Ù…Ù„ (Ø¬Ù†ÙŠÙ‡/Ù…Â³)</label>
                        <input type="number" class="form-input" id="editSandPrice" step="0.01" min="0" placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="editAggregate1Price">Ø³Ù† 1 (Ø¬Ù†ÙŠÙ‡/Ù…Â³)</label>
                        <input type="number" class="form-input" id="editAggregate1Price" step="0.01" min="0" placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="editAggregate2Price">Ø³Ù† 2 (Ø¬Ù†ÙŠÙ‡/Ù…Â³)</label>
                        <input type="number" class="form-input" id="editAggregate2Price" step="0.01" min="0" placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="editAggregate3Price">Ø³Ù† 3 (Ø¬Ù†ÙŠÙ‡/Ù…Â³)</label>
                        <input type="number" class="form-input" id="editAggregate3Price" step="0.01" min="0" placeholder="0.00">
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" data-action="close-modal" data-target="editPricesModal">Ø¥Ù„ØºØ§Ø¡</button>
                    <button type="submit" class="btn btn-primary">Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <div class="modal-header">Ø¥Ø¶Ø§ÙØ© Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©</div>
            <div id="paymentMessage"></div>
            <form id="paymentForm">
                <div class="form-group">
                    <label class="form-label" for="paymentAmount">Ø§Ù„Ù…Ø¨Ù„Øº *</label>
                    <input type="number" class="form-input" id="paymentAmount" required min="0" step="0.01" autocomplete="transaction-amount">
                </div>
                <div class="form-group">
                    <label class="form-label" for="paymentMethod">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ *</label>
                    <select class="form-select" id="paymentMethod" required>
                        <option value="">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</option>
                        <option value="Ù†Ù‚Ø¯ÙŠ">Ù†Ù‚Ø¯ÙŠ</option>
                        <option value="Ø¨Ù†ÙƒÙŠ">Ø¨Ù†ÙƒÙŠ</option>
                        <option value="Ø´ÙŠÙƒ">Ø´ÙŠÙƒ</option>
                        <option value="Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ">Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ</option>
                        <option value="ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´</option>
                    </select>
                </div>
                <div class="form-group" id="paymentDetailsGroup" style="display: none;">
                    <label class="form-label" for="paymentDetails">Ø±Ù‚Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© / Ø±Ù‚Ù… Ø§Ù„Ø´ÙŠÙƒ</label>
                    <input type="text" class="form-input" id="paymentDetails" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø´ÙŠÙƒ" autocomplete="off">
                </div>
                <div class="form-group" id="paymentImageGroup" style="display: none;">
                    <label class="form-label" for="paymentImage">ØµÙˆØ±Ø© Ø§Ù„Ø¯ÙØ¹</label>
                    <input type="file" class="form-input" id="paymentImage" accept="image/*">
                    <small class="form-help">Ø§Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„ Ø£Ùˆ Ø§Ù„Ø´ÙŠÙƒ Ø£Ùˆ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø¨Ù†ÙƒÙŠØ©</small>
                    <div id="paymentImagePreview" style="margin-top: 10px;"></div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="paymentDate">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
                    <input type="date" class="form-input" id="paymentDate" autocomplete="off">
                </div>
                <div class="form-group">
                    <label class="form-label" for="paymentNote">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                    <textarea class="form-textarea" id="paymentNote"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" data-action="close-modal" data-target="paymentModal">Ø¥Ù„ØºØ§Ø¡</button>
                    <button type="submit" class="btn btn-primary">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Adjustment Modal -->
    <div class="modal" id="adjustmentModal">
        <div class="modal-content">
            <div class="modal-header">Ø¥Ø¶Ø§ÙØ© ØªØ³ÙˆÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</div>
            <div id="adjustmentMessage"></div>
            <form id="adjustmentForm">
                <div class="form-group">
                    <label class="form-label" for="adjustmentAmount">Ø§Ù„Ù…Ø¨Ù„Øº *</label>
                    <input type="number" class="form-input" id="adjustmentAmount" required step="0.01">
                    <small class="text-gray-500">Ù…ÙˆØ¬Ø¨: ÙŠØ¶Ø§Ù Ù„Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª | Ø³Ø§Ù„Ø¨: ÙŠØ®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª</small>
                </div>
                <div class="form-group">
                    <label class="form-label" for="adjustmentMethod">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ³ÙˆÙŠØ©</label>
                    <select class="form-select" id="adjustmentMethod">
                        <option value="">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ³ÙˆÙŠØ©</option>
                        <option value="Ù†Ù‚Ø¯ÙŠ">Ù†Ù‚Ø¯ÙŠ</option>
                        <option value="Ø¨Ù†ÙƒÙŠ">Ø¨Ù†ÙƒÙŠ</option>
                        <option value="Ø´ÙŠÙƒ">Ø´ÙŠÙƒ</option>
                        <option value="Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ">Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ</option>
                        <option value="ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´</option>
                        <option value="ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø§Ø¨ÙŠ">ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø§Ø¨ÙŠ</option>
                    </select>
                </div>
                <div class="form-group" id="adjustmentDetailsGroup" style="display: none;">
                    <label class="form-label" for="adjustmentDetails">Ø±Ù‚Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© / Ø±Ù‚Ù… Ø§Ù„Ø´ÙŠÙƒ</label>
                    <input type="text" class="form-input" id="adjustmentDetails" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø´ÙŠÙƒ">
                </div>
                <div class="form-group">
                    <label class="form-label" for="adjustmentReason">Ø§Ù„Ø³Ø¨Ø¨</label>
                    <textarea class="form-textarea" id="adjustmentReason" placeholder="Ø³Ø¨Ø¨ Ø§Ù„ØªØ³ÙˆÙŠØ©..."></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" data-action="close-modal" data-target="adjustmentModal">Ø¥Ù„ØºØ§Ø¡</button>
                    <button type="submit" class="btn btn-primary">Ø¥Ø¶Ø§ÙØ©</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Image Modal -->
    <div class="modal" id="imageModal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <span>Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø©</span>
                <button class="modal-close" data-action="close-modal" data-target="imageModal">&times;</button>
            </div>
            <div class="modal-body" style="text-align: center; padding: 20px;">
                <img id="modalImage" style="max-width: 100%; max-height: 70vh; border-radius: 8px;" alt="ØµÙˆØ±Ø© Ø§Ù„Ø¯ÙØ¹">
            </div>
        </div>
    </div>

    <script src="js/sidebar.js"></script>
    <script src="js/crusher-details.js"></script>
</body>
</html>