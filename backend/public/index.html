<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <title>لوحة التحكم - توزيع</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!-- استدعاء CSS الموحد للمشروع -->
    <link rel="stylesheet" href="../css/dashboard.css">

</head>

<body>
    <!-- Hamburger menu for mobile -->
    <button class="hamburger" id="sidebarHamburger" aria-label="القائمة الجانبية">
        <span></span>
    </button>
    <!-- Sidebar navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="app-title">نظام التوزيع</div>
        <ul>
            <li><a href="index.html" class="active">لوحة التحكم</a></li>
            <li><a href="clients.html">العملاء</a></li>
            <li><a href="crushers.html">الكسارات</a></li>
            <li><a href="contractors.html">مقاولين العجل</a></li>
            <li><a href="new-entry.html">تسليم جديد</a></li>
        </ul>
        <div class="sidenav-spacer"></div>
    </nav>
    <!-- Main content -->
    <main class="main" id="mainContent">
        <h1 style="font-weight:700;color:#1d3359;font-size:2rem;margin-bottom:30px;text-align:right">لوحة التحكم</h1>
        <!-- Dashboard KPI Cards -->
        <section class="dashboard-cards" id="dashboardCards">
            <!-- تم بناء هذه العناصر ديناميكيًا عبر JS -->
            <div class="dashboard-card customers">
                <div class="card-value" id="totalClients">—</div>
                <div class="card-label">إجمالي العملاء</div>
            </div>
            <div class="dashboard-card quarries">
                <div class="card-value" id="totalCrushers">—</div>
                <div class="card-label">إجمالي الكسارات</div>
            </div>
            <div class="dashboard-card contractors">
                <div class="card-value" id="totalContractors">—</div>
                <div class="card-label">إجمالي مقاولي العجل</div>
            </div>
            <div class="dashboard-card deliveries">
                <div class="card-value" id="totalDeliveries">—</div>
                <div class="card-label">إجمالي التسليمات</div>
            </div>
            <div class="dashboard-card profit">
                <div class="card-value" id="netProfit">—</div>
                <div class="card-label">صافي الربح</div>
            </div>
            <div class="dashboard-card sales">
                <div class="card-value" id="totalSales">—</div>
                <div class="card-label">المبيعات الإجمالية</div>
            </div>
        </section>
        <!-- Charts Section -->
        <section class="dashboard-charts-section">
            <h2 class="charts-title">إحصائيات بيانية</h2>
            <div class="charts-placeholders">
                <div class="chart-placeholder">
                    مبيعات حسب العميل (قريباً)
                </div>
                <div class="chart-placeholder">
                    مبيعات حسب الكسارة (قريباً)
                </div>
            </div>
        </section>
    </main>
    <!-- Dashboard JS -->
    <script>
        // Hamburger menu behavior
        const sidebar = document.getElementById('sidebar');
        const hamburger = document.getElementById('sidebarHamburger');
        hamburger.addEventListener('click', function () {
            sidebar.classList.toggle('open');
        });
        // عند ضغط خارج القائمة الجانبية على الموبايل تُغلق تلقائيا
        document.body.addEventListener('click', function (e) {
            if (window.innerWidth <= 700 && sidebar.classList.contains('open')) {
                if (!sidebar.contains(e.target) && e.target !== hamburger) {
                    sidebar.classList.remove('open');
                }
            }
        });
        // إغلاق القائمة عند تغيير حجم الشاشة
        window.addEventListener('resize', function () {
            if (window.innerWidth > 700 && sidebar.classList.contains('open')) {
                sidebar.classList.remove('open');
            }
        });
    </script>
    <script src="../js/dashboard.js"></script>
</body>

</html>