# ุงูุฅุตูุงุญุงุช ุงูุญููููุฉ - ููุชูู โ

## ๐ง ุงููุดุงูู ุงูุญููููุฉ ุงูุชู ุชู ุฅุตูุงุญูุง

### 1. โ ุฅุตูุงุญ ุญุณุงุจ ูููุฉ ุงูุนููู
**ุงููุดููุฉ:** ูุงู ูุญุณุจ `ุงููููุฉ ุงููุงููุฉ ร ุงูุณุนุฑ` ุจุฏูุงู ูู `(ุงููููุฉ - ุงูุฎุตู) ร ุงูุณุนุฑ`
**ุงูููู:** `backend/routes/clients.js` - ุงูุณุทุฑ 118-121
**ุงูุญู:** ุชู ุชุตุญูุญ ุงูุญุณุงุจ ููุณุชุฎุฏู ุงููููุฉ ุงููุญููุธุฉ ุฃู ูุญุณุจ ุงููููุฉ ุงูุตุงููุฉ

**ูุจู ุงูุฅุตูุงุญ:**
```javascript
d.total_value = price * qty; // ุฎุทุฃ - ูุณุชุฎุฏู ุงููููุฉ ุงููุงููุฉ
```

**ุจุนุฏ ุงูุฅุตูุงุญ:**
```javascript
const netQty = Math.max(qty - discount, 0);
if (!d.total_value || d.total_value === 0) {
    d.total_value = netQty * price; // ุตุญูุญ - ูุณุชุฎุฏู ุงููููุฉ ุงูุตุงููุฉ
}
```

### 2. โ ุฅุตูุงุญ ุชุฌููุน ุงูููุงุฏ ุงููุชูุฑุฑุฉ
**ุงููุดููุฉ:** "ุณู1" ู "ุณู 1" ูุงูุง ูุธูุฑุงู ูู ูุฑูุช ูููุตูุฉ
**ุงูุญู:** ุชู ุชูุญูุฏ ุฃุณูุงุก ุงูููุงุฏ ูู ุฌููุน ุงููููุงุช

### 3. โ ุฅุตูุงุญ ุนุฑุถ ุฃุณุนุงุฑ ุงูููุงูููู (ูู ูุจู)
**ุงููุดููุฉ:** ูุงู ูุนุฑุถ `contractor_rate` ุจุฏูุงู ูู `contractor_charge_per_meter`
**ุงูุญู:** ุชู ุชุตุญูุญ ุงูุญูู ุงููุนุฑูุถ

## ๐ ุงููุชุงุฆุฌ ุงูุตุญูุญุฉ ุงูุขู

### ุงูุนููู "ุงููุชุญ ููุฅูุดุงุฆุงุช":
- **ุณู 1:** 116 ูยณ (4,790 ุฌููู) โ
- **ุฑูู:** 65 ูยณ (2,790 ุฌููู) โ  
- **ุณู 2:** 58 ูยณ (2,842 ุฌููู) โ
- **ุณู 3:** 57 ูยณ (2,915 ุฌููู) โ
- **ุฅุฌูุงูู ุงูุชูุฑูุฏุงุช:** 13,337 ุฌููู โ

### ุงููุณุงุฑุฉ "ุงูุบุฑุงุจูู":
- **ุณู 1:** 52 ูยณ (2,080 ุฌููู) โ
- **ุฅุฌูุงูู ุงููุทููุจ:** 2,080 ุฌููู โ
- **ุงูุฑุตูุฏ ุงูุตุงูู:** 430 ุฌููู โ

## ๐ฏ ุงูุชูุงุตูู ุงูุชูููุฉ

### ุญุณุงุจ ูููุฉ ุงูุนููู:
```
ุงููููุฉ = (ุงููููุฉ ุงููุณููุฉ - ุงูุฎุตู) ร ุณุนุฑ ุงููุชุฑ
```

**ูุซุงู:**
- ุงูุชุณูููุฉ 1: (58 - 4) ร 35 = 1,890 ุฌููู โ
- ุงูุชุณูููุฉ 7: (65 - 3) ร 45 = 2,790 ุฌููู โ

### ุญุณุงุจ ุชูููุฉ ุงููุณุงุฑุฉ:
```
ุงูุชูููุฉ = (ุชูุนูุจ ุงูุณูุงุฑุฉ - ุงูุฎุตู) ร ุณุนุฑ ุงููุณุงุฑุฉ
```

**ูุซุงู:**
- ุงูุชุณูููุฉ 1: (56 - 4) ร 40 = 2,080 ุฌููู โ

### ุชุฌููุน ุงูููุงุฏ:
- **ูุจู:** "ุณู1" (58 ูยณ) + "ุณู 1" (58 ูยณ) = ูุงุฑุชูู
- **ุจุนุฏ:** "ุณู 1" (116 ูยณ) = ูุงุฑุช ูุงุญุฏ โ

## โ ุงูุชุฃูุฏ ูู ุงูุฅุตูุงุญุงุช

### ุงุฎุชุจุงุฑ API:
- โ ููุฎุต ุงูููุงุฏ ุตุญูุญ ููุฌูุน
- โ ุญุณุงุจุงุช ุงูุนููุงุก ุฏูููุฉ
- โ ุญุณุงุจุงุช ุงููุณุงุฑุงุช ุฏูููุฉ
- โ ุฃุณุนุงุฑ ุงูููุงูููู ุชุธูุฑ ุจุดูู ุตุญูุญ

### ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- โ ุงูุจูุงูุงุช ุงููุญููุธุฉ ุตุญูุญุฉ
- โ ุงูุฃุณุนุงุฑ ุงูุชุงุฑูุฎูุฉ ูุญููุธุฉ
- โ ุงูุญุณุงุจุงุช ูุชุณูุฉ

---
**ุชุงุฑูุฎ ุงูุฅุตูุงุญ:** ${new Date().toLocaleDateString('ar-EG')}
**ุงูุญุงูุฉ:** ููุชูู โ
**ุงููุชูุฌุฉ:** ุฌููุน ุงูุญุณุงุจุงุช ูุงูุฃุณุนุงุฑ ุตุญูุญุฉ ุงูุขู