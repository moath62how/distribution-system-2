<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; direction: rtl; }
        .btn { padding: 10px 20px; margin: 10px; border: none; border-radius: 5px; cursor: pointer; }
        .btn-secondary { background: #6c757d; color: white; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø²Ø± ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h1>
    
    <div class="test-section">
        <h2>Ø§Ù„Ø²Ø± Ø§Ù„Ø£ØµÙ„ÙŠ</h2>
        <button class="btn btn-secondary" id="editClientBtn" style="margin-right: auto;">
            âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        </button>
    </div>
    
    <div class="test-section">
        <h2>Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ø³ÙŠØ·</h2>
        <button class="btn btn-secondary" id="testBtn">
            ğŸ§ª Ø²Ø± Ø§Ø®ØªØ¨Ø§Ø±
        </button>
    </div>
    
    <div class="test-section">
        <h2>Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
        <div id="results"></div>
    </div>

    <script>
        // Test data
        let clientData = {
            client: {
                id: 6,
                name: 'Ø§Ù„ÙØªØ­ Ù„Ù„Ø¥Ù†Ø´Ø§Ø¦Ø§Øª - Ù…Ø­Ø¯Ø«',
                phone: '01234567890',
                opening_balance: 1000
            }
        };

        function openEditClientModal() {
            console.log('openEditClientModal called');
            document.getElementById('results').innerHTML += '<p>âœ… ØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ openEditClientModal</p>';
            
            if (!clientData || !clientData.client) {
                alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù…ÙŠÙ„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„');
                return;
            }
            
            const client = clientData.client;
            console.log('Client data:', client);
            document.getElementById('results').innerHTML += '<p>âœ… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù…ÙˆØ¬ÙˆØ¯Ø©: ' + client.name + '</p>';
            
            alert('ØªÙ… ÙØªØ­ modal Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ (Ù…Ø­Ø§ÙƒØ§Ø©)');
        }

        function setupEditClientHandlers() {
            console.log('Setting up edit client handlers...');
            document.getElementById('results').innerHTML += '<p>ğŸ”§ Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ event handlers...</p>';
            
            const editBtn = document.getElementById('editClientBtn');
            if (editBtn) {
                console.log('Edit button found, adding event listener');
                document.getElementById('results').innerHTML += '<p>âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„</p>';
                
                editBtn.addEventListener('click', function() {
                    console.log('Edit button clicked!');
                    document.getElementById('results').innerHTML += '<p>ğŸ–±ï¸ ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„</p>';
                    openEditClientModal();
                });
                
                document.getElementById('results').innerHTML += '<p>âœ… ØªÙ… Ø±Ø¨Ø· event listener</p>';
            } else {
                console.error('Edit button not found!');
                document.getElementById('results').innerHTML += '<p>âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„</p>';
            }
        }

        // Test button
        document.getElementById('testBtn').addEventListener('click', function() {
            console.log('Test button clicked');
            document.getElementById('results').innerHTML += '<p>ğŸ§ª ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</p>';
        });

        // Setup when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, setting up handlers...');
            document.getElementById('results').innerHTML += '<p>ğŸ“„ ØªÙ… ØªØ­Ù…ÙŠÙ„ DOM</p>';
            setupEditClientHandlers();
        });
    </script>
</body>
</html>