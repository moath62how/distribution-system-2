# ูุธุงู ุงูุชูุงุฑูุฑ ููุดูู ุงูุญุณุงุจ ููุชูู

## โ ุงูุชุญุฏูุซุงุช ุงูููุชููุฉ

### 1. ูุธุงู ุงูุชูุงุฑูุฑ ุงูููุญุฏ
ุชู ุฅุถุงูุฉ ููุณ ูุธุงู ุงูุชูุงุฑูุฑ ุงูููุฌูุฏ ูู ุงูุนููุงุก ุฅูู ุงููุณุงุฑุงุช ูุงูููุงูููู:

#### ุฃููุงุน ุงูุชูุงุฑูุฑ:
- โ **ุชูุฑูุฑ ุงูุชูุฑูุฏุงุช/ุงููุดุงููุฑ**: ุชูุฑูุฑ ููุตู ุจุงููููุงุช ูุงูููู ุญุณุจ ุงููุชุฑุฉ
- โ **ูุดู ุงูุญุณุงุจ**: ูุดู ุดุงูู ุจุงูุชูุฑูุฏุงุช ูุงููุฏููุนุงุช ูุงูุชุณููุงุช ูุงูุฑุตูุฏ

#### ุงูููุฒุงุช ุงููุถุงูุฉ:
- โ **ููุงุชุฑ ุงูุชุงุฑูุฎ**: ุชุญุฏูุฏ ูุชุฑุฉ ุฒูููุฉ ูุญุฏุฏุฉ ููุชูุงุฑูุฑ
- โ **ุชูุงุฑูุฎ ุงูุชุฑุงุถูุฉ**: ูู ุจุฏุงูุฉ ุงูุณูุฉ ุฅูู ุงูููู
- โ **ุฎูุงุฑ ุงููุชุฑุฉ ุงููุฎุตุตุฉ**: ููุดู ุงูุญุณุงุจ
- โ **ุชุตุฏูุฑ PDF**: ูุชุญ ุงูุชูุฑูุฑ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ ููุทุจุงุนุฉ/ุงูุญูุธ

### 2. ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูููุญุฏุฉ
ุชู ุชุทุจูู ููุณ ุงูุชุตููู ูุงูุฃููุงู ุงููุณุชุฎุฏูุฉ ูู ุงูุนููุงุก:

#### ุงูุชุตููู:
- โ **ุจุทุงูุงุช ุงูุชูุงุฑูุฑ**: ุชุฏุฑุฌ ูููู ุฌุฐุงุจ (ุฃุฒุฑู ููุชูุฑูุฏุงุชุ ุฃุฎุถุฑ ููุดู ุงูุญุณุงุจ)
- โ **ุญููู ุงูุชุงุฑูุฎ**: ูุฏูุฌุฉ ูู ุงูุชุตููู ูุน ุฎูููุฉ ุดูุงูุฉ
- โ **ุฃุฒุฑุงุฑ ุงูุชูุงุฑูุฑ**: ุชุตููู ููุญุฏ ูุน ุฃููููุงุช
- โ **ุชุฎุทูุท ูุชุฌุงูุจ**: ูุชููู ูุน ุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช

### 3. API Endpoints ุงูุฌุฏูุฏุฉ

#### ูููุณุงุฑุงุช:
```
GET /api/crushers/:id/reports/deliveries?from=YYYY-MM-DD&to=YYYY-MM-DD
GET /api/crushers/:id/reports/statement?from=YYYY-MM-DD&to=YYYY-MM-DD
```

#### ููููุงูููู:
```
GET /api/contractors/:id/reports/deliveries?from=YYYY-MM-DD&to=YYYY-MM-DD
GET /api/contractors/:id/reports/statement?from=YYYY-MM-DD&to=YYYY-MM-DD
```

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

### Frontend (HTML)
- `backend/public/crusher-details.html`
  - ุฅุถุงูุฉ ูุณู "ุงูุชูุงุฑูุฑ ููุดูู ุงูุญุณุงุจ"
  - ุจุทุงูุชูู ููุชูุงุฑูุฑ ูุน ููุงุชุฑ ุงูุชุงุฑูุฎ
- `backend/public/contractor-details.html`
  - ุฅุถุงูุฉ ูุณู "ุงูุชูุงุฑูุฑ ููุดูู ุงูุญุณุงุจ"
  - ุชุฎุตูุต ุงููุตูุต ููููุงูููู (ูุดุงููุฑ ุจุฏูุงู ูู ุชูุฑูุฏุงุช)

### Frontend (JavaScript)
- `backend/public/js/crusher-details.js`
  - `generateDeliveriesReport()` - ุฅูุดุงุก ุชูุฑูุฑ ุงูุชูุฑูุฏุงุช
  - `generateAccountStatement()` - ุฅูุดุงุก ูุดู ุงูุญุณุงุจ
  - `toggleDateInputs()` - ุชุจุฏูู ุนุฑุถ ุญููู ุงูุชุงุฑูุฎ
  - ุชููุฆุฉ ุงูุชูุงุฑูุฎ ุงูุงูุชุฑุงุถูุฉ
- `backend/public/js/contractor-details.js`
  - ููุณ ุงููุธุงุฆู ูุน ุชุฎุตูุต ููููุงูููู

### Backend (API)
- `backend/routes/crushers.js`
  - `GET /:id/reports/deliveries` - ุชูุฑูุฑ ุชูุฑูุฏุงุช ุงููุณุงุฑุฉ
  - `GET /:id/reports/statement` - ูุดู ุญุณุงุจ ุงููุณุงุฑุฉ
  - `generateDeliveriesReportHTML()` - ุฅูุดุงุก HTML ููุชูุฑูุฑ
  - `generateAccountStatementHTML()` - ุฅูุดุงุก HTML ููุดู ุงูุญุณุงุจ
- `backend/routes/contractors.js`
  - `GET /:id/reports/deliveries` - ุชูุฑูุฑ ูุดุงููุฑ ุงูููุงูู
  - `GET /:id/reports/statement` - ูุดู ุญุณุงุจ ุงูููุงูู
  - ูุธุงุฆู ุฅูุดุงุก HTML ูุฎุตุตุฉ ููููุงูููู

## ๐ฏ ุงูููุฒุงุช ุงูููุชููุฉ

### ุชูุฑูุฑ ุงูุชูุฑูุฏุงุช/ุงููุดุงููุฑ
- โ **ููุฎุต ุฅุญุตุงุฆู**: ุนุฏุฏ ุงูุชูุฑูุฏุงุชุ ุฅุฌูุงูู ุงููููุฉุ ุฅุฌูุงูู ุงููููุฉ
- โ **ููุฎุต ุงูููุงุฏ**: (ูููุณุงุฑุงุช ููุท) ุชุฌููุน ุญุณุจ ููุน ุงููุงุฏุฉ
- โ **ุฌุฏูู ุชูุตููู**: ุฌููุน ุงูุชูุฑูุฏุงุช/ุงููุดุงููุฑ ูู ุงููุชุฑุฉ ุงููุญุฏุฏุฉ
- โ **ุญุณุงุจุงุช ุฏูููุฉ**: 
  - ูููุณุงุฑุงุช: ุชูุนูุจ ุงูุณูุงุฑุฉ - ุงูุฎุตู = ุงููููุฉ ุงูุตุงููุฉ
  - ููููุงูููู: ูููุฉ ุงูุญูููุฉ ร ุณุนุฑ ุงููุชุฑ = ุงููุณุชุญูุงุช

### ูุดู ุงูุญุณุงุจ
- โ **ููุฎุต ูุงูู ุดุงูู**:
  - ูููุณุงุฑุงุช: ุงููุทููุจ ุงูุฃุณุงุณู + ุงูุชุณููุงุช = ุงููุทููุจ ุงูููุงุฆู - ุงููุฏููุน = ุงูุตุงูู
  - ููููุงูููู: ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู + ุงููุดุงููุฑ + ุงูุชุณููุงุช - ุงููุฏููุน = ุงูุตุงูู
- โ **ุฌุฏุงูู ุชูุตูููุฉ**: ุงูุชูุฑูุฏุงุช/ุงููุดุงููุฑุ ุงููุฏููุนุงุชุ ุงูุชุณููุงุช
- โ **ุฃููุงู ุชูููุฒูุฉ**: ุฃุฎุถุฑ ูููุจุงูุบ ุงูุฅูุฌุงุจูุฉุ ุฃุญูุฑ ููุณูุจูุฉ

### ุชุตููู ุงูุชูุงุฑูุฑ
- โ **ูููุฉ ุจุตุฑูุฉ ููุญุฏุฉ**: ููุณ ุงูุชุตููู ุนุจุฑ ุฌููุน ุงูุชูุงุฑูุฑ
- โ **ูุนูููุงุช ุงูุฑุฃุณูุฉ**: ุงุณู ุงูุดุฑูุฉุ ููุน ุงูุชูุฑูุฑุ ุงุณู ุงููุณุงุฑุฉ/ุงูููุงููุ ุงููุชุฑุฉ
- โ **ุชุฎุทูุท ุงุญุชุฑุงูู**: ุฌุฏุงูู ููุณูุฉุ ุฃููุงู ูุชูุงุณูุฉุ ุฎุทูุท ูุงุถุญุฉ
- โ **ูุนูููุงุช ุงูุชุฐููู**: ุชุงุฑูุฎ ูููุช ุฅูุดุงุก ุงูุชูุฑูุฑ

## ๐ ููุงุฑูุฉ ูุน ูุธุงู ุงูุนููุงุก

| ุงูููุฒุฉ | ุงูุนููุงุก | ุงููุณุงุฑุงุช | ุงูููุงูููู |
|--------|---------|----------|-----------|
| ุชูุฑูุฑ ุงูุชูุฑูุฏุงุช/ุงููุดุงููุฑ | โ | โ | โ |
| ูุดู ุงูุญุณุงุจ | โ | โ | โ |
| ููุงุชุฑ ุงูุชุงุฑูุฎ | โ | โ | โ |
| ุชุตุฏูุฑ PDF | โ | โ | โ |
| ููุฎุต ุงูููุงุฏ | โ | โ | โ (ุบูุฑ ูุทููุจ) |
| ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู | โ | โ (ุบูุฑ ูุทููุจ) | โ |
| ุงูุชุตููู ุงูููุญุฏ | โ | โ | โ |

## ๐ง ุงููุธุงุฆู ุงูุฌุฏูุฏุฉ

### JavaScript Functions
```javascript
// ูููุณุงุฑุงุช ูุงูููุงูููู
generateDeliveriesReport()    // ุฅูุดุงุก ุชูุฑูุฑ ุงูุชูุฑูุฏุงุช/ุงููุดุงููุฑ
generateAccountStatement()    // ุฅูุดุงุก ูุดู ุงูุญุณุงุจ
toggleDateInputs()           // ุชุจุฏูู ุนุฑุถ ุญููู ุงูุชุงุฑูุฎ ุงููุฎุตุตุฉ
```

### API Functions
```javascript
// Backend - Crushers
generateDeliveriesReportHTML(crusher, deliveries, materialTotals, fromDate, toDate)
generateAccountStatementHTML(crusher, deliveries, payments, adjustments, totals, dateRangeText)

// Backend - Contractors  
generateDeliveriesReportHTML(contractor, deliveries, fromDate, toDate)
generateAccountStatementHTML(contractor, deliveries, payments, adjustments, totals, dateRangeText)
```

## โก ุงูุฃุฏุงุก ูุงูุชุญุณููุงุช

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ **ุงุณุชุนูุงูุงุช ูุญุณูุฉ**: ููุชุฑุฉ ุจุงูุชุงุฑูุฎ ุนูู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ **ุชุฑุชูุจ ุตุญูุญ**: ุชุฑุชูุจ ุงูุจูุงูุงุช ุญุณุจ ุงูุชุงุฑูุฎ ุชุตุงุนุฏูุงู
- โ **ุญุณุงุจุงุช ุฏูููุฉ**: ุงุณุชุฎุฏุงู ุงูููู ุงููุญููุธุฉ ุชุงุฑูุฎูุงู

### ูุงุฌูุฉ ุงููุณุชุฎุฏู
- โ **ุชุญููู ุณุฑูุน**: ูุชุญ ุงูุชูุงุฑูุฑ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ
- โ **ุชุฌุฑุจุฉ ุณูุณุฉ**: ุชูุงุฑูุฎ ุงูุชุฑุงุถูุฉ ุฐููุฉ
- โ **ุชุตููู ูุชุฌุงูุจ**: ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ

## ๐จ ุงูุชุฎุตูุตุงุช ุญุณุจ ุงูููุน

### ุงููุณุงุฑุงุช
- **ุงูุนููุงู**: "ุชูุฑูุฑ ุชูุฑูุฏุงุช ุงููุณุงุฑุฉ"
- **ุงููุญุชูู**: ุชูุนูุจ ุงูุณูุงุฑุฉุ ุงูุฎุตูุ ุงููููุฉ ุงูุตุงููุฉ
- **ููุฎุต ุงูููุงุฏ**: ุชุฌููุน ุญุณุจ ููุน ุงููุงุฏุฉ (ุฑููุ ุณู 1ุ ุณู 2ุ ุณู 3)
- **ุงูุญุณุงุจุงุช**: ุงุณุชุฎุฏุงู `crusher_total_cost` ู `material_price_at_time`

### ุงูููุงูููู
- **ุงูุนููุงู**: "ุชูุฑูุฑ ูุดุงููุฑ ุงูููุงูู"
- **ุงููุญุชูู**: ูููุฉ ุงูุญูููุฉุ ุณุนุฑ ุงููุชุฑุ ูุณุชุญู ุงูููุงูู
- **ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู**: ูุธูุฑ ูู ูุดู ุงูุญุณุงุจ
- **ุงูุญุณุงุจุงุช**: ุงุณุชุฎุฏุงู `contractor_total_charge` ู `contractor_rate`

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

ุชู ุชุญููู ุงูุชูุงูุค ุงููุงูู ูู ูุธุงู ุงูุชูุงุฑูุฑ:

1. **ูุธุงู ุชูุงุฑูุฑ ููุญุฏ** ุนุจุฑ ุงูุนููุงุก ูุงููุณุงุฑุงุช ูุงูููุงูููู
2. **ุชุตููู ุงุญุชุฑุงูู** ูุน ูููุฉ ุจุตุฑูุฉ ูุชุณูุฉ
3. **ูุธุงุฆู ูุชูุฏูุฉ** ูุน ููุงุชุฑ ุงูุชุงุฑูุฎ ูุงูุชุตุฏูุฑ
4. **ุญุณุงุจุงุช ุฏูููุฉ** ูุน ุงูุญูุงุธ ุนูู ุงูููุทู ุงููุญุงุณุจู
5. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ** ูุน ูุงุฌูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู

ุงููุธุงู ุงูุขู ููุชูู ุจุงููุงูู ูุน ุฌููุน ุงูุชูุงุฑูุฑ ููุดูู ุงูุญุณุงุจ! ๐

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

1. **ุงูุชูู ุฅูู ุตูุญุฉ ุชูุงุตูู ุงููุณุงุฑุฉ ุฃู ุงูููุงูู**
2. **ุงุฎุชุฑ ููุน ุงูุชูุฑูุฑ ุงููุทููุจ**:
   - ุชูุฑูุฑ ุงูุชูุฑูุฏุงุช/ุงููุดุงููุฑ: ุญุฏุฏ ุงููุชุฑุฉ ุงูุฒูููุฉ
   - ูุดู ุงูุญุณุงุจ: ุงุฎุชุฑ ูุชุฑุฉ ูุฎุตุตุฉ ุฃู ุฌููุน ุงููุชุฑุงุช
3. **ุงุถุบุท ุนูู ุฒุฑ ุฅูุดุงุก ุงูุชูุฑูุฑ**
4. **ุณููุชุญ ุงูุชูุฑูุฑ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ** ุฌุงูุฒ ููุทุจุงุนุฉ ุฃู ุงูุญูุธ

ุฌููุน ุงูุชูุงุฑูุฑ ุชุญุชูู ุนูู ููุณ ูุณุชูู ุงูุชูุตูู ูุงูุงุญุชุฑุงููุฉ ุงูููุฌูุฏ ูู ุชูุงุฑูุฑ ุงูุนููุงุก! โจ