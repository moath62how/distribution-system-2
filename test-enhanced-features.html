<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงููุญุณูุฉ</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; direction: rtl; background: #f8f9fa; }
        .container { max-width: 1200px; margin: 0 auto; }
        .feature-card { 
            background: white; 
            padding: 20px; 
            margin: 15px 0; 
            border-radius: 10px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }
        .feature-card h3 { margin: 0 0 15px 0; color: #007bff; font-size: 18px; }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .test-btn { 
            background: linear-gradient(135deg, #28a745, #20c997); 
            color: white; 
            padding: 10px 20px; 
            border: none; 
            border-radius: 25px; 
            margin: 5px; 
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        .test-btn:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }
        .test-btn.secondary { 
            background: linear-gradient(135deg, #6c757d, #5a6268); 
        }
        .test-btn.primary { 
            background: linear-gradient(135deg, #007bff, #0056b3); 
        }
        .status { 
            padding: 15px; 
            margin: 15px 0; 
            border-radius: 8px; 
            font-weight: bold;
        }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { color: #2c3e50; margin-bottom: 10px; }
        .header p { color: #7f8c8d; font-size: 16px; }
        .demo-section { background: #e9ecef; padding: 20px; border-radius: 8px; margin: 15px 0; }
        .demo-section h4 { margin: 0 0 10px 0; color: #495057; }
        .step { background: white; padding: 10px; margin: 5px 0; border-radius: 5px; border-right: 3px solid #17a2b8; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>๐ ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงููุญุณูุฉ</h1>
            <p>ูุดู ุงูุญุณุงุจ ุงููุญุณู ูุงูููุงุชุฑ ุงููุชูุฏูุฉ</p>
        </div>
        
        <div class="status success">
            <strong>โ ุชู ุชุทุจูู ุฌููุน ุงูุชุญุณููุงุช ุจูุฌุงุญ!</strong>
            <br>ุงูุฎุงุฏู ูุนูู ูุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุฌุงูุฒุฉ ููุงุฎุชุจุงุฑ.
        </div>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h3>๐ ูุดู ุงูุญุณุงุจ ุงููุญุณู</h3>
                <p><strong>ุงูุฌุฏูุฏ:</strong> ูููู ุฅูุดุงุก ูุดู ุญุณุงุจ ุจุฏูู ุชุญุฏูุฏ ุชุงุฑูุฎ (ุฌููุน ุงูุจูุงูุงุช) ุฃู ุจูุชุฑุฉ ูุญุฏุฏุฉ</p>
                
                <div class="demo-section">
                    <h4>ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู:</h4>
                    <div class="step">1. ุงูุชุญ ุตูุญุฉ ุชูุงุตูู ุงูุนููู</div>
                    <div class="step">2. ูู ูุณู ุงูุชูุงุฑูุฑุ ูุงุญุธ checkbox "ุชุญุฏูุฏ ูุชุฑุฉ ุฒูููุฉ ูุญุฏุฏุฉ"</div>
                    <div class="step">3. ุงุชุฑูู ุบูุฑ ููุนู ููุดู ุญุณุงุจ ุดุงูู</div>
                    <div class="step">4. ุฃู ูุนูู ูุญุฏุฏ ูุชุฑุฉ ุฒูููุฉ</div>
                </div>
                
                <button class="test-btn primary" onclick="testFullStatement()">ุงุฎุชุจุงุฑ ูุดู ุญุณุงุจ ุดุงูู</button>
                <button class="test-btn" onclick="testDateRangeStatement()">ุงุฎุชุจุงุฑ ูุดู ุญุณุงุจ ุจุชุงุฑูุฎ</button>
                <button class="test-btn secondary" onclick="window.open('backend/public/clients-details.html?id=1', '_blank')">ูุชุญ ุตูุญุฉ ุงูุนููู</button>
            </div>
            
            <div class="feature-card">
                <h3>๐ ููุงุชุฑ ุงูุชุงุฑูุฎ ุงููุชูุฏูุฉ</h3>
                <p><strong>ุงูุฌุฏูุฏ:</strong> ููุชุฑุฉ ุฌููุน ุงูุฌุฏุงูู ุจุงููุต ูุงูุชุงุฑูุฎ ูุน ุฃุฒุฑุงุฑ ูุณุญ ุงูููุงุชุฑ</p>
                
                <div class="demo-section">
                    <h4>ุงูุฌุฏุงูู ุงููุญุณูุฉ:</h4>
                    <div class="step">๐ฆ ุงูุชุณูููุงุช: ุจุญุซ + ูู ุชุงุฑูุฎ + ุฅูู ุชุงุฑูุฎ</div>
                    <div class="step">๐ฐ ุงููุฏููุนุงุช: ุจุญุซ + ูู ุชุงุฑูุฎ + ุฅูู ุชุงุฑูุฎ</div>
                    <div class="step">โ๏ธ ุงูุชุณููุงุช: ุจุญุซ + ูู ุชุงุฑูุฎ + ุฅูู ุชุงุฑูุฎ</div>
                    <div class="step">๐งน ุฃุฒุฑุงุฑ "ูุณุญ ุงูููุงุชุฑ" ููู ุฌุฏูู</div>
                </div>
                
                <button class="test-btn" onclick="window.open('backend/public/clients-details.html?id=1', '_blank')">ุงุฎุชุจุงุฑ ุงูููุงุชุฑ</button>
            </div>
            
            <div class="feature-card">
                <h3>๐จ ุชุตููู ูุญุณู</h3>
                <p><strong>ุงูุฌุฏูุฏ:</strong> ูุดู ุญุณุงุจ ุจุชุตููู ุงุญุชุฑุงูู ูุน ุฃููุงู ูุงุถุญุฉ ูุฃูุณุงู ููุธูุฉ</p>
                
                <div class="demo-section">
                    <h4>ุงูุชุญุณููุงุช ุงูุจุตุฑูุฉ:</h4>
                    <div class="step">๐จ ุชุฏุฑุฌุงุช ููููุฉ ุฌุฐุงุจุฉ</div>
                    <div class="step">๐ฑ ุชุตููู ูุชุฌุงูุจ</div>
                    <div class="step">๐ข ุฃุฎุถุฑ ูููุจุงูุบ ููุง</div>
                    <div class="step">๐ด ุฃุญูุฑ ูููุจุงูุบ ุนูููุง</div>
                    <div class="step">โจ ุชุฃุซูุฑุงุช hover ูุงูุชูุงูุงุช ุณูุณุฉ</div>
                </div>
                
                <button class="test-btn primary" onclick="testDesign()">ูุนุงููุฉ ุงูุชุตููู</button>
            </div>
            
            <div class="feature-card">
                <h3>โก ุงุฎุชุจุงุฑ ุณุฑูุน</h3>
                <p>ุงุฎุชุจุฑ ุฌููุน ุงูููุฒุงุช ุจููุฑุฉ ูุงุญุฏุฉ</p>
                
                <button class="test-btn" onclick="runQuickTest()">๐งช ุงุฎุชุจุงุฑ ุณุฑูุน ุดุงูู</button>
                <button class="test-btn secondary" onclick="checkServerStatus()">๐ ูุญุต ุญุงูุฉ ุงูุฎุงุฏู</button>
            </div>
        </div>
        
        <div id="testResults"></div>
        
        <div class="feature-card">
            <h3>๐ ุฏููู ุงูุงุฎุชุจุงุฑ ุงูุชูุตููู</h3>
            
            <div class="demo-section">
                <h4>1. ุงุฎุชุจุงุฑ ูุดู ุงูุญุณุงุจ:</h4>
                <div class="step">ุงูุชุญ ุตูุญุฉ ุชูุงุตูู ุงูุนููู</div>
                <div class="step">ุงูุชูู ููุณู "ุงูุชูุงุฑูุฑ"</div>
                <div class="step">ุฌุฑุจ ุฅูุดุงุก ูุดู ุญุณุงุจ ุจุฏูู ุชุญุฏูุฏ ุชุงุฑูุฎ</div>
                <div class="step">ุฌุฑุจ ุฅูุดุงุก ูุดู ุญุณุงุจ ุจุชุงุฑูุฎ ูุญุฏุฏ</div>
                <div class="step">ูุงุญุธ ุงูุชุตููู ุงููุญุณู ูุงูุฃููุงู ุงููุงุถุญุฉ</div>
            </div>
            
            <div class="demo-section">
                <h4>2. ุงุฎุชุจุงุฑ ุงูููุงุชุฑ:</h4>
                <div class="step">ูู ุฌุฏูู ุงูุชุณูููุงุชุ ุงูุชุจ ูุต ูู ุงูุจุญุซ</div>
                <div class="step">ุญุฏุฏ ุชุงุฑูุฎ "ูู" ู "ุฅูู"</div>
                <div class="step">ูุงุญุธ ุงูููุชุฑุฉ ุงูููุฑูุฉ</div>
                <div class="step">ุงููุฑ "ูุณุญ ุงูููุงุชุฑ" ูุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุงูุชุนููู</div>
                <div class="step">ูุฑุฑ ููุณ ุงูุฎุทูุงุช ูููุฏููุนุงุช ูุงูุชุณููุงุช</div>
            </div>
        </div>
    </div>
    
    <script>
        function testFullStatement() {
            const url = 'http://localhost:5000/api/clients/1/reports/statement';
            window.open(url, '_blank');
            showResult('ุชู ูุชุญ ูุดู ุงูุญุณุงุจ ุงูุดุงูู (ุฌููุน ุงูุจูุงูุงุช)', 'info');
        }
        
        function testDateRangeStatement() {
            const fromDate = '2024-01-01';
            const toDate = '2024-12-31';
            const url = `http://localhost:5000/api/clients/1/reports/statement?from=${fromDate}&to=${toDate}`;
            window.open(url, '_blank');
            showResult(`ุชู ูุชุญ ูุดู ุงูุญุณุงุจ ูููุชุฑุฉ ูู ${fromDate} ุฅูู ${toDate}`, 'info');
        }
        
        function testDesign() {
            testFullStatement();
            showResult('ุชู ูุชุญ ูุดู ุงูุญุณุงุจ - ูุงุญุธ ุงูุชุตููู ุงููุญุณู ูุงูุฃููุงู ุงููุงุถุญุฉ', 'success');
        }
        
        function runQuickTest() {
            showResult('ุฌุงุฑู ุชุดุบูู ุงูุงุฎุชุจุงุฑ ุงูุณุฑูุน...', 'info');
            
            setTimeout(() => {
                // Test server
                checkServerStatus();
                
                // Open client details
                window.open('backend/public/clients-details.html?id=1', '_blank');
                
                // Test reports
                setTimeout(() => {
                    testFullStatement();
                }, 1000);
                
                showResult('ุชู ุชุดุบูู ุงูุงุฎุชุจุงุฑ ุงูุณุฑูุน - ุชุญูู ูู ุงูููุงูุฐ ุงูููุชูุญุฉ', 'success');
            }, 500);
        }
        
        async function checkServerStatus() {
            try {
                const response = await fetch('http://localhost:5000/api/clients');
                if (response.ok) {
                    const data = await response.json();
                    showResult(`โ ุงูุฎุงุฏู ูุนูู ุจุดูู ุตุญูุญ! ุชู ุงูุนุซูุฑ ุนูู ${data.data ? data.data.length : 0} ุนููู`, 'success');
                } else {
                    throw new Error('Server error: ' + response.status);
                }
            } catch (error) {
                showResult(`โ ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุฎุงุฏู: ${error.message}`, 'error');
            }
        }
        
        function showResult(message, type) {
            const resultsDiv = document.getElementById('testResults');
            const alertDiv = document.createElement('div');
            alertDiv.className = `status ${type}`;
            alertDiv.innerHTML = `<strong>${new Date().toLocaleTimeString('ar-EG')}:</strong> ${message}`;
            
            resultsDiv.insertBefore(alertDiv, resultsDiv.firstChild);
            
            // Remove old messages (keep only last 5)
            const alerts = resultsDiv.querySelectorAll('.status');
            if (alerts.length > 5) {
                for (let i = 5; i < alerts.length; i++) {
                    alerts[i].remove();
                }
            }
        }
        
        // Test server on page load
        window.onload = checkServerStatus;
    </script>
</body>
</html>